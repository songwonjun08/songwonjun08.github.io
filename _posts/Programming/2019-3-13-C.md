---
layout: page
title: C 문법
comments: false
categories: Programming
---

* content
{:toc}

# C 문법

개인용도로 C언어 문법을 정리한 글입니다

_______

## 변수와 상수

````c
#include <stdio.h>
#define PI 3.1415926535 // 상수 선언

int main (void) {
    
    // 일반적인 변수 선언 (자료형 변수명)
    int r = 50;
    
    // 상수 선언 (const 자료형 변수명)
    const float area = PI*r*r;
    
    // PI = 3 (Error!)
    // area = 10 (Error!)
    
    printf("반지름 %dcm인 원의 넓이 : %.2fcm",r,area);
    
    return 0;
}
````

____

## 자료형 (Data Types)

![mvc](https://github.com/songwonjun08/songwonjun08.github.io/blob/master/images/datatypes.jpeg?raw=true){: width="100%" height="100%"}

---

## 기본 입출력

````c
// 숫자 입력 숫자 출력
#include <stdio.h>
int main (void) {
    
    int a;
   
    scanf("%d",&a);
    printf("%d",a);
    
    return 0;
}
````

````c
// 문자열 입력 출력
#include <stdio.h>
int main (void) {
    
    char str[50];
    
    // scanf는 stdin에서 ' '(공백), '\n', '\t'만나면 입력 종료
    // 따라서 공백 입력 받지 못함
    scanf("%s",str);
    
    // fgets(버퍼에 대한 포인터,문자열 최대 크기 '\0'포함,데이터 입력받을곳)
    fgets(str,sizeof(str),stdin);
    
    printf("%s",str);
    
    return 0;
}
````

````c
// main()함수의 명령 인수 (argc,argv)로 입력받기
// argc : 메인함수에 전달되는 정보의 갯수
// argv : 메인함수에 전달되는 문자열의 배열
// argv[0]은 프로그램의 실행경로로 고정되어있음
#include <stdio.h>
int main (int argc,char* argv[]) {
    
    printf("argc = %d\n",argc);
    
    for(int i=0;i<argc;i++) {
        printf("argv[%d] = %s\n",i,argv[i]);
    }
    
    return 0;
}

/*
 SONGui-MacBookPro:CCMD wonjunsong$ /Users/wonjunsong/Desktop/Create/CCMD/CCMD\ 2019-03-16\ 18-56-56/Products/usr/local/bin/CCMD I Love You
 
 argc = 4
 argv[0] = /Users/wonjunsong/Desktop/Create/CCMD/CCMD 2019-03-16 18-56-56/Products/usr/local/bin/CCMD
 argv[1] = I
 argv[2] = Love
 argv[3] = You
*/
````



___

## 데이터의 표현 방식과 비트 연산

컴퓨터는 모든 데이터의 표현 및 연산을 2진수로 처리.

진법 변환은 모든 컴퓨터 분야의 기본이 된다.

C언어에서는 10진수 8진수 16진수 표현을 허용한다.

````c
#include <stdio.h>
int main (void) {
    
    int a = 10; // 10진수 : 그냥 숫자
    int b = 0xa; // 16진수 : 0x + 숫자
    int c = 012; // 8진수 : 0 + 숫자
    
    printf("%d %x %o",a,b,c);
    
    return 0;
}
````

정수 int의 경우 보통 (4바이트=32비트)의 메모리를 사용한다.

모든 정수의 가장 왼쪽에 있는 비트(MSB)는 부호 비트이다 (0=양수) (1=음수)

ex) [+5] 00000000 00000000 00000000 00000101

음수를 표현할때는 각각의 비트별로 1의 보수를 취해주고 1을 더해준다. (2의 보수법에 의한 음수 표현)

ex) [-5] 11111111 11111111 11111111 11111011

````c
// 비트 단위 연산
// & 비트단위 AND : 두개의 비트가 모두 1일때 1을 반환
// | 비트단위 OR : 두개의 비트중 하나라도 1이면 1을 반환
// ^ 비트단위 XOR : 두개의 비트가 서로 다를 경우 1을 반환
// ~ 비트단위 NOT : 보수 연산 (비트를 반전)
// << 왼쪽으로 이동 : ex) a<<2 a의 비트들을 왼쪽으로 2칸씩 이동
// >> 오른쪽으로 이동

// 비트 연산으로 나눗셈
#include <stdio.h>
int main() {
    int i;
    printf("정수를 입력하세요 : ");
    scanf("%d", &i); // ex) 120
    
    printf("%d 를 32 로 나누면 : %d \n", i, i / 32);
    printf("%d 를 5 칸 쉬프트 하면 : %d \n", i, i >> 5);
  	// 00000000 00000000 00000000 01111000 [120]
    // 00000000 00000000 00000000 00000011 [5칸>>쉬프트]
    // 32는 2의 5승이니까 5칸 쉬프트해주면 된다. (나눗셈이란 특정수의 끝자리를 버리는것)
    
    return 0;
}
/*
 정수를 입력하세요 : 120
 120 를 32 로 나누면 : 3
 120 를 5 칸 쉬프트 하면 : 3 
 */
````

````c
#include <stdio.h>
#define ALIVE 0x1      // 2 진수로 1
#define WALKING 0x2    // 2 진수로 10
#define EATING 0x4    // 2 진수로 100
#define SLEEPING 0x8    // 2 진수로 1000

int main (void) {
    int my_status = ALIVE | WALKING | SLEEPING;
    
    // if문은 0이 아닌 모든 값을 참으로 생각한다.
    if (my_status & ALIVE) {
        printf("I am ALIVE!! \n");
        // my_status : 00000000 00000000 00000000 00001011
        // ALIVE     : 00000000 00000000 00000000 00000001
        // result    : 00000000 00000000 00000000 00000001 (True)
    }
    
    if (my_status & WALKING) {
        printf("I am WALKING!! \n");
    }
    if (my_status & EATING) {
        printf("I am EATING!! \n");
        // result    : 00000000 00000000 00000000 00000000 (False)
    }
    if (my_status & SLEEPING) {
        printf("I am SLEEPING!! \n");
    }
    return 0;
}
````

